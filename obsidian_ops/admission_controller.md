**Admission Controller** — это расширение API-сервера Kubernetes, которое позволяет выполнять дополнительные проверки, модификации и манипуляции с объектами Kubernetes перед тем, как они будут созданы, изменены или удалены в кластере. Он предоставляет механизм для внедрения пользовательской логики на этапе входящего запроса к API-серверу, что обеспечивает дополнительные уровни безопасности и валидации.

В целом, концепция Admission controllers состоит из следующих основных этапов:
1. API HTTP handler
2. Authentification/Authorization
3. Mutating admission ([mutating webhooks](mutation_admission_webhook.md))
4. Schema validation
5. Validating admission (validating webhooks)
6. Persisted to etcd

То есть сперва на API приходит запрос, затем на сервере KubeAPI происходит аутентификация и авторизация, далее происходит проверка данных и схемы с помощью веб-хуков и только потом запись идет в хранилище etcd.<br>
Admission controller могут быть валидирующими (validating), мутирующими (mutating) или сразу обоими.<br>
Мутирующие изменяют объекты, валидирующие нет.<br>
Процесс admission controller происходит в два этапа. Сначала выполняются мутирующие контроллеры, а затем уже валидирующие. Если какой-либо контроллер отклоняет запрос, то весь запрос отклоняется сразу же и ошибка возвращается конечному пользователю.

Admission Controllers могут быть запущены как встроенные (built-in) или пользовательские (custom).<br>
Встроенные Admission Controllers уже включены в API-сервер, и их можно просто включать при необходимости.

Вот некоторые типовые встроенные варианты:
* **ResourceQuota.** Контролирует количество ресурсов (CPU, память) и объектов (поды, сервисы) в пространствах имён.
* **SecurityContextDeny.** Запрещает создание объектов без установленных [Security Context](psa.md), что повышает безопасность.

**Admission Webhook** представляет собой HTTP-сервер, который используется в Admission Controller для выполнения дополнительных проверок и манипуляций с объектами Kubernetes перед их созданием, изменением или удалением.<br>
Так, если мы задеплоили что-то непозволительное, то Admission webhook дёрнет запрос на HTTP-сервере, после чего произойдёт следующее:<br>
admission Controller увидит несоответствие и вернёт отказ через Admission Webhook в формате AdmissionReview API Kubernetes. Этот ответ содержит информацию о том, разрешён запрос или нет, а также может включать в себя какие-то дополнительные данные.

Источники:<br>
https://habr.com/ru/companies/gazprombank/articles/753622/<br>
https://habr.com/ru/companies/otus/articles/718178/<br>
