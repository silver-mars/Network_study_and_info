**Истинно облачный подход**<br>
«Истинно облачный» – это совокупное название технологий и процессов.<br>
Истинно облачный процесс представляет собой полный жизненный цикл программного обеспечения.<br>
Зачастую, но не всегда истинно облачный процесс сокращает исторически разделенные организационные функции и этапы жизненного цикла (например, архитектура, обеспечение качества, безопасность, документация, разработка, эксплуатация, сопровождение и т. д.) до двух функций: разработка и эксплуатация.<br>

Истинно облачные приложения обычно работают в  общедоступных или частных облаках. Как минимум они работают поверх **программно адресуемой инфраструктуры**. Поэтому подъем и перенос приложения в облако не делают его истинно облачным.<br>

**Характеристики истинно облачных приложений:**
* работают на программно адресуемой инфраструктуре, динамичны и отделены от физических ресурсов одним или несколькими уровнями абстраций вычислительных и сетевых ресурсов, а также хранилищ;
* распределены и децентрализованы, при этом основное внимание часто уделяется поведению приложения, а не месту его работы. Учитывают события жизненного цикла ПО, что позволяет регулярно применять обновления, плавно изменяя сервисы без перебоев в обслуживании;
* устойчивы и масштабируемы, предполагают возможность запуска избыточных экземпляров, чтобы не имелось единой точки отказа и для повышения живучести;
* поддерживают возможность наблюдения с помощью собственных механизмов и/или механизмов нижележащих уровней. Учитывая их динамический характер, распределённые системы относительно сложнее в отладке, поэтому следует учитывать их наблюдаемость.

В зависимости от уровня опыта команды и особенностей конкретных проектов путь к истинной облачности подразумевает использование различных комбинаций из процессов разработки ПО, методов эксплуатации, архитектур приложений, способов упаковки и развёртывания, а также инфраструктур приложений. Команды, создающие истинно облачные приложения, используют один, несколько или все подходы:<br>
**Процесс разработки**:
* agile;
* devops;
* SRE;

**Архитектура приложений**:
* Многоуровневая
* Моносервисы
* События.

**Развёртывание и упаковка**:
* Виртуальные серверы
* Контейнеры (одноядерные)
* Функции

**Инфраструктура приложений**:
* Вычислительный центр
* Внешний хостинг
* Облако
* Бессерверная

Путь к истинному облаку требует все меньших и меньших единиц внедрения, что достигается за счет высокой степени изоляции ресурсов.<br>
Изоляция с помощью виртуализации и контейнеризации обеспечивает более высокий уровень эффективности, поскольку мелкие пакеты позволяют более плотно загрузить серверы.<br>
На каждом этапе эволюции, судя по общей статистике количества внедрений – от физических серверов до виртуальных машин, контейнеров, ядер и функций, – наблюдалась разная плотность загрузки. Некоторые способы упаковки обеспечивают лучшие гарантии переносимости, совместимости, изоляции, эффективности и т. д.<br>
(Например, контейнеры обеспечивают бóльшую переносимость и совместимость, чем виртуальные машины. Функции же, напротив, несмотря на компактность, изолированность и практически бесконечную масштабируемость, проигрывают в переносимости и демонстрируют самую высокую степень обособленности среди всех способов упаковки.)<br>
Независимо от выбранного способа упаковки – будь то развертывание сервисов непосредственно в операционной системе хоста, в виртуальной машине, в контейнере или в виде бессерверной функции – сервисные сетки обеспечат связь, контроль, наблюдаемость и безопасность.<br>

**Архитектура приложений**.
Еще более важной характеристикой истинной облачности является архитектура приложений. Центральное место в истинно облачной среде занимают такие качества, как **эфемерность, активно планируемая рабочая нагрузка, слабая связанность с четко описанными зависимостями, ориентированность на события, горизонтальная масштабируемость и четкое разделение на сервисы с состоянием и без.**<br>
Истинно облачные приложения часто являются примером декларативного архитектурного подхода, включающего устойчивость, доступность и наблюдаемость в первоочередные задачи проектирования.<br>

**Истинно облачная инфраструктура**<br>
Публичные, гибридные и частные облака являются основой определений истинной облачности.<br>
В трёх словах облако это программно-определяемая инфраструктура.<br>
Использование API в качестве основного интерфейса к инфраструктуре является основной концепцией облачных вычислений.<br>
Истинно облачные интегрированные рабочие нагрузки используют эти API (или их абстракции) вместо неистинных рабочих нагрузок, не знающих своей инфраструктуры.<br>

**Наблюдаемость и мониторинг**<br>
Понятие наблюдаемости системы (observability), в отличие от мониторинга (monitoring), давно и подробно обсуждается в отрасли. Для наглядности определим мониторинг как выполняемую функцию, деятельность, а наблюдаемость – как атрибут системы.<br>
Наблюдаемость описывает, насколько хорошо и каким образом система предоставляет сигналы для мониторинга. Наблюдаемое программное обеспечение обычно оснащается инструментами для сбора и передачи информации (телеметрии/измерений), позволяющей понять особенности его работы.<br>
Мониторинг, напротив, определяет действия, связанные с наблюдением и проверкой поведения и результатов работы системы и ее компонентов во времени и оценкой состояния системы. Чем больше наблюдаемых атрибутов (шире наблюдаемость), тем больше возможностей для мониторинга. Мониторинг помогает проверить состояние системы (например, ухудшилась эффективность работы системы или нет).<br>
Рассматривайте возможность мониторинга как условие, необходимое для контроля состояния. Мониторинг осуществляется с целью выявления сбоев, как правило, посредством опросов наблюдаемых конечных точек.<br>

**Источники телеметрии**<br>
Под наблюдаемостью обычно подразумевается наличие журналов с событиями и ошибками; трассировок со связями и аннотациями; метрик в виде гистограмм, индикаторов, сводок и счетчиков.<br>

* Журналы<br>
Журналы предоставляют дополнительный контекст для таких данных, как метрики. Они хорошо подходят для отладки, но для них трудно подобрать правильный баланс настроек – какие журналы должны храниться долго, а какие можно затирать. Также журналы дорого обходятся с точки зрения производительности, поскольку они, как правило, имеют довольно большой объем и занимают больше всего места в хранилище.<br>

* Метрики<br>
Метрики, в отличие от журналов, имеют постоянное потребление ресурсов и хороши для оповещений. Журналы и метрики вместе дают представление об отдельных системах, но затрудняют просмотр всего жизненного цикла запроса, прошедшего через несколько систем. <br>

* Трассировка<br>
Трассировка позволяет детально отслеживать порядок обработки запроса различными сервисами<br>
Все алгоритмы выборки трассировки имеют свои компромиссы. Они делятся на две большие категории: действующие с опережением (head-based) и действующие с отставанием (tail-based)). Алгоритм трассировки с опережением осуществляет выборку непрерывно и последовательно с самого начала. Алгоритм с отставанием принимает решение о сохранении данных трассировки в конце выполнения запроса, когда есть возможность учесть дополнительные критерии.<br>

Способность агрегировать и сопоставлять журналы, метрики и трассировки при работе распределенных систем важна для анализа происходящего внутри приложения, работающего в различных инфраструктурах. Мы знаем, что при работе распределенной системы неизбежно будут возникать сбои, и можем учесть какие-то из них. Однако все виды сбоев заранее не известны, поэтому система должна быть максимально наблюдаемой (и отлаживаемой), чтобы можно было ставить новые вопросы и объяснять поведение приложения (в контексте его инфраструктуры).<br>

Мониторинг – это деятельность, выражающаяся в простом наблюдении за состоянием системы в течение определенного периода времени. Наблюдаемость (условие наблюдаемости) – это мера того, насколько точно можно определить внутреннее состояние системы, опираясь на внешние проявления ее работы, мера наблюдаемости чего-либо.<br>
