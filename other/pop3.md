POP (Post Office Protocol) – протокол почтового отделения.
Текущая версия протокола третья.
Первая и вторая считаются устаревшими.
* POP1 - 1984
* POP2 - 1985
* POP3 - 1988
* Обновлённая версия POP3 с дополнительными механизмами аутентификации и расширениями - 1996 г.

Протокол POP3 используется для чтения сообщений из почтового ящика пользователя.

Протокол POP использует подход «загрузить и удалить»:
* Почтовый ящик на сервере считается временным хранилищем сообщений.
* Все сообщения должны быть переписаны на почтовый клиент.
* После загрузки на клиент сообщение удаляется с сервера.

**Преимущества:**
* Простой протокол
* Письма доступны при отсутствии подключения к сети

**Недостатки:**
* Только один клиент
* Единое хранилище писем (нет папок, фильтров, флагов и т. п.)

Протокол POP3 использует транспортный протокол TCP, порт 110, находится на прикладном уровне.
POP3 работает в текстовом режиме.

При работе с протоколом POP3 клиент проходит через 3 состояния:
**Стадии сеанса POP3**
1. Авторизация. Клиент представляется и подтверждает, что он тот, за кого себя выдает.
2. Транзакция. Клиент загружает почту и помечает загруженные сообщения на удаление.
3. Обновление. Сервер удаляет помеченные сообщения и закрывает соединение.

**Команды протокола POP3:**
USER Указать имя пользователя
PASS Указать пароль
После авторизации:
STAT Количество писем на сервере
(2 числа: количество сообщений и количество байт)
LIST Передача информации о сообщениях
(2 числа: порядковый номер сообщения и размер в байтах)
(без параметра выводится информация обо всех сообщениях, с параметром (например. LIST 2) выдастся информация по конкретному сообщению)
RETR Передать сообщение на клиент
(Retrieve) - передача сообщения с сервера на клиент, ей необходимо указывать номер сообщения, которое необходимо загрузить (example, RETR 2)
TOP  Передать на клиент заголовок сообщения
Имеет 2 параметра:
1-ый обязательный: номер сообщения, заголовок которого следует передать.
2-ой необязательный: количество строк основного текста, которые следует передать.
DELE Пометить сообщение на удаление
QUIT Закрытие транзакции, удаление сообщений и отключение
(после чего переходит 3-я стадия сеанса: Обновление).

Статус ответов сервера:
+OK - команда выполнена успешно
-ERR - произошла ошибка.

# Practice
**telnet pop.domain.ext 110**
**USER my_name**
+OK Name is a valid mailbox
**PASS**
+OK Mailbox locked and ready
**LIST**
<...>
**RETR n**
+OK Message follows
<здесь идут заголовки>
<Date>
<Subject>
Data
<Content-Type: (example text/plain: charset=utf-8>
**DELE n**
+OK message deleted
**QUIT**
+OK


